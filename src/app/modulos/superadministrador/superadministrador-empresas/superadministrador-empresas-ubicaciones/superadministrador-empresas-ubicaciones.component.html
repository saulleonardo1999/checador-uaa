<div mat-dialog-content>
  <br />
  <div [formGroup]="datosForm">
    <div class="container-fluid">
      <div class="row">
        <mat-label align="center">
          <b> Ubicaciones</b>
        </mat-label>
      </div>
      <br />
      <div class="row mt-1 justify-content-around">
        <div class="col-lg-6 col-sm-6">
          <mat-form-field class="w-100" appearance="legacy">
            <mat-label>Calle</mat-label>
            <input
              matInput
              placeholder="Ingresa la calle"
              required
              formControlName="calle"
            />
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-sm-6">
          <mat-form-field class="w-100" appearance="legacy">
            <mat-label>Colonia</mat-label>
            <input
              matInput
              placeholder="Ingresa la Colonia"
              type="text"
              required
              formControlName="colonia"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="row mt-1 justify-content-around">
        <div class="col-lg-6 col-sm-6">
          <mat-form-field class="w-100" appearance="legacy">
            <mat-label>Número Exterior</mat-label>
            <input
              matInput
              placeholder="Ingresa el número Exterior"
              required
              formControlName="numeroExterior"
            />
          </mat-form-field>
        </div>
        <div class="col-lg-6 col-sm-6">
          <mat-form-field class="w-100" appearance="legacy">
            <mat-label>Número Interior</mat-label>
            <input
              matInput
              placeholder="Ingresa el número interior"
              formControlName="numeroInterior"
            />
          </mat-form-field>
        </div>
      </div>
      <div class="row mt-1 justify-content-around">
        <div class="col-lg-12 col-sm-12">
          <mat-form-field class="w-100" appearance="legacy">
            <mat-label>Código Postal</mat-label>
            <input
              matInput
              placeholder="Ingresa el código postal"
              required
              formControlName="codigoPostal"
            />
          </mat-form-field>
        </div>
      </div>
    </div>
  </div>
  <div class="w-100 px-2" style="height: 400px" align="center">
    <agm-map
      [latitude]="lat"
      [zoom]="zoom"
      [longitude]="lng"
      class="w-100 h-100"
      align="center"
    >
      <agm-marker [latitude]="lat" [longitude]="lng"></agm-marker>
    </agm-map>
    <!-- <mat-label>{{ currentLocation }}</mat-label> -->
  </div>

  <div class="mt-5" align="center">
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8 w-100"
      appearance="legacy"
    >
      <!-- No. Elemento-->
      <ng-container matColumnDef="No.">
        <th mat-header-cell *matHeaderCellDef>No.</th>
        <td mat-cell *matCellDef="let element">
          {{ obtenerIndiceTabla(element) + 1 }}
        </td>
      </ng-container>

      <!-- Nombre -->
      <ng-container matColumnDef="Codigo Postal">
        <th mat-header-cell *matHeaderCellDef>Código Postal</th>
        <td mat-cell *matCellDef="let element">
          {{ element._idCodigoPostal.c_CodigoPostal }}
        </td>
      </ng-container>

      <!-- Apellido Materno -->
      <ng-container matColumnDef="Calle">
        <th mat-header-cell *matHeaderCellDef>Calle</th>
        <td mat-cell *matCellDef="let element">{{ element.calle }}</td>
      </ng-container>

      <!-- Apellido Paterno -->
      <ng-container matColumnDef="Colonia">
        <th mat-header-cell *matHeaderCellDef>Colonia</th>
        <td mat-cell *matCellDef="let element">
          {{ element._idColonia.nombre }}
        </td>
      </ng-container>

      <ng-container matColumnDef="Número Exterior">
        <th mat-header-cell *matHeaderCellDef>No. Exterior</th>
        <td mat-cell *matCellDef="let element">{{ element.numeroExterior }}</td>
      </ng-container>

      <!-- Botones opciones -->
      <ng-container matColumnDef="Opciones">
        <th mat-header-cell *matHeaderCellDef>Opciones</th>
        <td mat-cell *matCellDef="let element">
          <div class="container-fluid">
            <div class="row justify-content-start">
              <button
                mat-mini-fab
                color=""
                class="btn btn-primary"
                (click)="cambiarUbicacion(element)"
              >
                <mat-icon>visibility</mat-icon>
              </button>
            </div>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="columnas"></tr>
      <tr mat-row *matRowDef="let row; columns: columnas"></tr>
    </table>
  </div>
</div>
<br />
<div mat-dialog-actions>
  <div class="container-fluid">
    <div class="row mt-1 justify-content-end">
      <button
        mat-raised-button
        class="btn-block btn-danger mb-1 w-25"
        (click)="onDismiss()"
      >
        <mat-icon>clear</mat-icon>
        Cerrar
      </button>
    </div>
  </div>
</div>
